"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e){var t,n={major:1,minor:0,patch:0};t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(t,n):"function"==typeof define&&define.amd?define([],function(){return e(t,n)}):t.reductAssembler=e(t,n)}(function(e,t){var n=function(){function e(){_classCallCheck(this,e),this.marker="component",this.selector="data-"+this.marker,this.index={},this.components={}}return _createClass(e,[{key:"instantiate",value:function(e){var t=e.getAttribute(this.selector),n=this.components[t]=[].slice.call(this.components[t]||[]),r=this.index[t];n.unshift(new r(e))}},{key:"register",value:function(e,t){var n=typeof e;if("function"!==n)throw new Error("'"+n+"' is not a valid component class.");t=t||e.name,this.index[t]=e}},{key:"registerAll",value:function(e){var t=this;Object.keys(e).forEach(function(n){return t.register(e[n],n)})}},{key:"run",value:function(){var e=this,t=[].slice.call(document.querySelectorAll("["+this.selector+"]")),n=Object.keys(this.index);t.filter(function(t){return!!~n.indexOf(t.getAttribute(e.selector))}).forEach(function(t){return e.instantiate(t)})}}]),e}(),r=function i(){var i=new n,e={register:function(e,t){return i.register(e,t)},registerAll:function(e){return i.registerAll(e)},run:function(){return i.run()}};return process&&process.title&&~process.title.indexOf("reduct")&&(e.index=i.index,e.components=i.components),e};return r.version=t,r});