"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();!function(e){var n,t={major:0,minor:1,patch:2};n="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:this,"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(n,t):"function"==typeof define&&define.amd?define([],function(){return e(n,t)}):n.reductAssembler=e(n,t)}(function(e,n){var t=function(){function e(){_classCallCheck(this,e),this.marker="component",this.selector="data-"+this.marker,this.index={},this.components={}}return _createClass(e,[{key:"instantiate",value:function(e){var n=e.getAttribute(this.selector),t=this.components[n]=[].slice.call(this.components[n]||[]),r=this.index[n];t.unshift(new r(e))}},{key:"register",value:function(e){var n=typeof e;if("function"!==n)throw new Error("'"+n+"' is not a valid component class.");var t=e.name;this.index[t]=e}},{key:"run",value:function(){var e=this,n=[].slice.call(document.querySelectorAll("["+this.selector+"]")),t=Object.keys(this.index);n.filter(function(n){return!!~t.indexOf(n.getAttribute(e.selector))}).forEach(function(n){return e.instantiate(n)})}}]),e}(),r=function i(){var i=new t,e={register:function(e){return i.register(e)},run:function(){return i.run()}};return process&&process.title&&~process.title.indexOf("reduct")&&(e.index=i.index,e.components=i.components),e};return r.version=n,r});