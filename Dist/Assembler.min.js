"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t,n={major:1,minor:0,patch:0};t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(t,n):"function"==typeof define&&define.amd?define([],function(){return e(t,n)}):t.reductAssembler=e(t,n)}(function(e,t){var n=function(){function e(){_classCallCheck(this,e),this.marker="component",this.selector="data-"+this.marker,this.index={},this.components={},this.elements=[]}return _createClass(e,[{key:"isInstantiated",value:function(e){return!!~this.elements.indexOf(e)}},{key:"instantiate",value:function(e){if(!this.isInstantiated(e)){var t=e.getAttribute(this.selector),n=this.components[t]=[].slice.call(this.components[t]||[]),i=this.index[t];this.elements.unshift(e),n.unshift(new i(e))}}},{key:"register",value:function(e,t){var n=typeof e;if("function"!==n)throw new Error("'"+n+"' is not a valid component class.");t=t||e.name,this.index[t]=e}},{key:"registerAll",value:function(e){var t=this;Object.keys(e).forEach(function(n){return t.register(e[n],n)})}},{key:"run",value:function(){var e=this,t=[].slice.call(document.querySelectorAll("["+this.selector+"]")),n=Object.keys(this.index);t.filter(function(t){return!!~n.indexOf(t.getAttribute(e.selector))}).forEach(function(t){return e.instantiate(t)})}}]),e}(),i=function r(){var r=new n,e={register:function(e,t){return r.register(e,t)},registerAll:function(e){return r.registerAll(e)},run:function(){return r.run()}};return process&&process.title&&~process.title.indexOf("reduct")&&(e.index=r.index,e.components=r.components),e};return i.version=t,i});